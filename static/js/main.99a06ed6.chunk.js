(this.webpackJsonpfindaid=this.webpackJsonpfindaid||[]).push([[0],{13:function(e,t,n){e.exports={header:"Profile_header__2ChJJ",posts:"Profile_posts__rwx78","float-left":"Profile_float-left__1UAoY",Row:"Profile_Row__3mo0H",Column:"Profile_Column__1g42-",photo:"Profile_photo__1MpMV",id:"Profile_id__1rPxo","grid-container":"Profile_grid-container__21YuG",user:"Profile_user__2YOKO",name:"Profile_name__fJMw_"}},14:function(e,t,n){e.exports={header:"Header_header__3mObx",headerItem:"Header_headerItem__3qR-F"}},17:function(e,t,n){e.exports={square:"PostThumbnail_square__1mMZc",content:"PostThumbnail_content__23flp",image:"PostThumbnail_image__3J_3H"}},20:function(e,t,n){e.exports={container:"App_container__6j1zw",content:"App_content__1dlDM"}},34:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),a=n(24),i=n.n(a),c=(n(34),n(7)),o=n(2),l=n(20),d=n.n(l),j=n(10),u=n(5);function h(e){var t=(new Date).valueOf().toString(36);return function(e){for(var t=(new Date).getTime(),n=0;n<1e7&&!((new Date).getTime()-t>e);n++);}(1),e+t}var b={currentUser:"bernie.sanders@gmail.com",users:[{email:"bernie.sanders@gmail.com",password:"vermontmaplesyrup",name:"Bernie Sanders",bio:"I am once again asking for your financial support.",photo:"/assets/berniesanders.jpg",isSuperUser:!0}],posts:[{id:"357458",poster:"bernie.sanders@gmail.com",title:"Landfill in Underprivileged Area",location:"Atlanta, GA",description:"A new landfill site has been marked in an impoverished neighborhood without the community members' consent.",images:["/assets/landfill.jpg","/assets/atlantaneighborhood.jpg"],resourcesInfo:[{name:"Landfill Zoning Laws",link:"landfillagency.org"}],fundsPetitions:[{name:"Stop the Landfill Fund",link:"stopthelandfill.com"}],events:[{name:"Town Hall Meeting",link:"atlanta.org"}],comments:[{user:"bernie.sanders@gmail.com",text:"This is outrageous! We must rally for change."}]},{id:"357459",poster:"bernie.sanders@gmail.com",title:"RISKY BYHALIA CONNECTION PIPELINE THREATENS TENNESSEE & MISSISSIPPI HEALTH, WATER SUPPLY",location:"Memphis, TN",description:"In December 2019, Plains All-American and Valero pipeline companies announced plans to build the 49-mile Byhalia Pipeline through southwestern Tennessee and northwestern Mississippi. ",images:["/assets/landfill.jpg","/assets/atlantaneighborhood.jpg"],resourcesInfo:[{name:"FracTracker",link:"lhttps://www.fractracker.org/2021/03/risky-byhalia-pipeline-threatens-tennessee-mississippi-health-and-water-supply/"}],fundsPetitions:[{name:"No Oil In Our Soil",link:"//www.ipetitions.com/petition/no-oil-in-our-soil"}],events:[{name:"Town Hall Meeting",link:"memphis.org"}],comments:[{user:"bernie.sanders@gmail.com",text:"This is outrageous! We must rally for change."}]}],likes:[{datetime:"2020-02-09T22:53:40Z",postId:"357458",userEmail:"bernie.sanders@gmail.com"}]},p=n(0),O=Object(s.createContext)();var m=function(e){var t=Object(s.useState)(b),n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)("bernie.sanders@gmail.com"),c=Object(u.a)(i,2),o=c[0];return c[1],Object(p.jsx)(O.Provider,{value:Object(j.a)(Object(j.a)({},r),{},{addPost:function(e,t,n,s){var i={id:h("post"),poster:o,title:n,location:s,description:t,images:e,datetime:(new Date).toISOString()};a(Object(j.a)(Object(j.a)({},r),{},{posts:r.posts.concat(i)}))}}),children:e.children})},f=n(9),g=n.n(f),v=n(25),x=n(26),_=n(11),P=n(29),D=n(28),I=function(e){Object(P.a)(n,e);var t=Object(D.a)(n);function n(e){var s;return Object(v.a)(this,n),(s=t.call(this,e)).handleDragEnter=s.handleDragEnter.bind(Object(_.a)(s)),s.handleDrop=s.handleDrop.bind(Object(_.a)(s)),s.handleDragOver=s.handleDragOver.bind(Object(_.a)(s)),s.handleDragLeave=s.handleDragLeave.bind(Object(_.a)(s)),s}return Object(x.a)(n,[{key:"handleDrop",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onDrop&&this.props.onDrop(e)}},{key:"handleDragEnter",value:function(e){e.preventDefault(),e.stopPropagation(),this.dragTargetSaved=e.target,this.props.onDragEnter&&this.props.onDragEnter(e)}},{key:"handleDragOver",value:function(e){!1!==e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),this.props.onDragOver&&this.props.onDragOver(e))}},{key:"handleDragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onDragLeave&&this.dragTargetSaved===e.target&&this.props.onDragLeave(e)}},{key:"render",value:function(){var e=r.a.Children.only(this.props.children);return r.a.cloneElement(e,{onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop})}}]),n}(s.PureComponent);var k=function(e){var t=Object(s.useState)(!1),n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(""),c=Object(u.a)(i,2),l=c[0],d=c[1],j=Object(s.useState)(""),h=Object(u.a)(j,2),b=h[0],m=h[1],f=Object(s.useState)(""),v=Object(u.a)(f,2),x=v[0],_=v[1],P=Object(s.useState)(null),D=Object(u.a)(P,2),k=D[0],w=D[1],S=Object(s.useState)(""),N=Object(u.a)(S,2),C=N[0],T=N[1],y=Object(o.f)(),E=Object(s.useContext)(O).addPost;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:g.a.photo,children:[k?Object(p.jsx)("img",{src:k,alt:"New Post"}):Object(p.jsx)("div",{className:g.a.message,children:"Drop your image"}),Object(p.jsx)(I,{onDragEnter:function(e){a(!0)},onDragLeave:function(e){a(!1)},onDrop:function(e){if(!1!==e.dataTransfer.types.includes("Files")){if(e.dataTransfer.files.length>=1){var t=e.dataTransfer.files[0];if(t.size>1e6)return;if(t.type.match(/image.*/)){var n=new FileReader;n.onloadend=function(e){w(e.target.result)},n.readAsDataURL(t)}}a(!1)}},children:Object(p.jsx)("div",{className:[g.a.dropArea,r?g.a.dragging:null].join(" ")})})]}),Object(p.jsx)("div",{className:g.a.desc,children:Object(p.jsx)("textarea",{placeholder:"Provide Title...",rows:"2",value:b,onChange:function(e){console.log(e.target.value),console.log(e),console.log(e),m(e.target.value)}})}),Object(p.jsx)("div",{className:g.a.desc,children:Object(p.jsx)("textarea",{placeholder:"Location...",rows:"2",value:x,onChange:function(e){console.log(e.target.value),_(e.target.value)}})}),Object(p.jsx)("div",{className:g.a.desc,children:Object(p.jsx)("textarea",{placeholder:"Describe...",rows:"2",value:l,onChange:function(e){console.log(e.target.value),d(e.target.value)}})}),Object(p.jsx)("div",{className:g.a.error,children:C}),Object(p.jsxs)("div",{className:g.a.actions,children:[Object(p.jsx)("button",{onClick:function(){e.onPostCancel(),y.push("/")},children:"Cancel"}),Object(p.jsx)("button",{onClick:function(e){e.preventDefault(),null!==k?(E(k,b,x,l),y.push("/"),T("")):T("You need to add a photo!")},children:"Share"})]})]})},w=n(14),S=n.n(w);function N(e){return e.startsWith("/")?"/findaid"+e:e}var C=function(e){return Object(p.jsxs)("div",{className:S.a.header,children:[Object(p.jsx)("div",{className:S.a.headerItem,children:Object(p.jsx)(c.b,{to:"/",children:Object(p.jsx)("img",{src:N("/assets/home.svg"),alt:"Home"})})}),Object(p.jsx)("div",{className:S.a.headerItem,children:Object(p.jsx)("strong",{children:"FindAid"})}),Object(p.jsx)("div",{className:S.a.headerItem,children:Object(p.jsx)(c.b,{to:"createpost",children:Object(p.jsx)("img",{src:N("/assets/createpost.svg"),alt:"CreatePost"})})}),Object(p.jsx)("div",{className:S.a.headerItem,children:Object(p.jsx)(c.b,{to:"profile",children:Object(p.jsx)("img",{src:N("/assets/profile.svg"),alt:"Profile"})})})]})},T=n(16);var y=function(){var e=Object(s.useContext)(O).posts,t=Object(s.useState)(e),n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)({resourcesInfo:!1,fundsPetitions:!1,events:!1}),o=Object(u.a)(i,2),l=o[0],d=o[1];function h(t){var n=t.target.value,s=Object(j.a)(Object(j.a)({},l),{},Object(T.a)({},n,t.target.checked));d(s);var r=e.filter((function(e){return(!s.resourcesInfo||e.resourcesInfo.length>0)&&(!s.fundsPetitions||e.fundsPetitions.length>0)&&(!s.events||e.events.length>0)}));a(r)}return Object(p.jsxs)("div",{children:[Object(p.jsxs)("section",{id:"filter-container",children:[Object(p.jsx)("input",{type:"search",placeholder:"Search title, location, description...",onInput:function(t){return function(t){var n=RegExp("".concat(t.target.value),"i"),s=e.filter((function(e){return n.test(e.title)||n.test(e.location)||n.test(e.description)}));a(s)}(t)}}),Object(p.jsxs)("div",{id:"checkbox-container",children:[Object(p.jsx)("input",{type:"checkbox",name:"resources-info",value:"resourcesInfo",onInput:function(e){return h(e)}}),Object(p.jsx)("label",{htmlFor:"resources-info",children:"has resources or information"}),Object(p.jsx)("input",{type:"checkbox",name:"funds-petitions",value:"fundsPetitions",onInput:function(e){return h(e)}}),Object(p.jsx)("label",{htmlFor:"funds-petitions",children:"has funds or petitions"}),Object(p.jsx)("input",{type:"checkbox",name:"events",value:"events",onInput:function(e){return h(e)}}),Object(p.jsx)("label",{htmlFor:"events",children:"has events"})]})]}),Object(p.jsx)("section",{id:"post-container",children:r.map((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{children:"Like"}),Object(p.jsxs)("div",{id:"post-header",children:[e.title,e.location]}),Object(p.jsx)(c.b,{to:"/".concat(e.id),children:Object(p.jsx)("button",{children:"Learn More"})}),Object(p.jsx)("img",{src:N(e.images[0]),alt:e.title}),e.description]},e.id)}))})]})};var E=function(){return Object(p.jsx)("div",{children:"LogIn"})};var L=function(){var e=Object(s.useContext)(O),t=e.posts,n=e.users,r=Object(o.g)().postId,a=t.find((function(e){return e.id===r})),i=n.find((function(e){return e.email===a.poster}));return Object(p.jsxs)("div",{children:[Object(p.jsxs)("aside",{children:[a.images.map((function(e){return Object(p.jsx)("img",{src:N(e),alt:e},e)})),a.title,a.location,a.description]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("section",{children:["Resources & Information",Object(p.jsx)("div",{children:a.resourcesInfo.map((function(e){return Object(p.jsx)("a",{href:e.link,children:e.name},e.link)}))}),"Funds & Petitions",Object(p.jsx)("div",{children:a.fundsPetitions.map((function(e){return Object(p.jsx)("a",{href:e.link,children:e.name},e.link)}))}),"Events",Object(p.jsx)("div",{children:a.events.map((function(e){return Object(p.jsx)("a",{href:e.link,children:e.name},e.link)}))})]}),Object(p.jsxs)("section",{children:["Comments",Object(p.jsx)("div",{children:a.comments.map((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{children:[e.user," ",i.isSuperUser&&"Star Icon"]}),e.text]},e.text)}))})]})]})]})};var A=n(17),F=n.n(A);var M=function(e){return console.log(e.post),Object(p.jsx)("div",{className:F.a.square,children:Object(p.jsx)("div",{className:F.a.content,children:Object(p.jsx)("img",{className:F.a.image,src:N(e.post.images[0]),alt:"Post Thumbnail"})})})},U=n(13),H=n.n(U);var R=function(){var e=Object(s.useContext)(O),t=e.posts,n=e.users,r=e.currentUser,a=e.likes,i=function(e,t){return t.find((function(t){return e===t.email}))}("bernie.sanders@gmail.com",n),o=function(e,t){return t.filter((function(t){return t.poster===e}))}(r,t),l=function(e,t,n){var s=n.filter((function(t){return t.userEmail===e})),r=[];for(var a in s)console.log(s[a]),console.log(s[a].postId),r.push(s[a].postId);return console.log(r),t.filter((function(e){var t=e.id;return!r.includes(t)}))}(r,t,a);return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{class:"Row",children:[Object(p.jsx)("div",{align:"center",class:"float-left",className:H.a.photo,children:Object(p.jsx)("img",{src:N(i.photo),alt:"Profile"})}),Object(p.jsxs)("div",{align:"center",class:"float-left",className:H.a.user,children:[Object(p.jsxs)("div",{className:H.a.name,children:[i.isSuperUser,Object(p.jsx)("img",{src:"assets/superuser.png",width:"20",alt:"superuser"}),i.name]}),Object(p.jsx)("div",{className:H.a.bio,children:i.bio})]})]}),Object(p.jsxs)("div",{className:H.a.posts,children:["Liked Posts",Object(p.jsx)("div",{class:"grid-container",children:Object(p.jsx)("div",{class:"grid-row",children:Object(p.jsx)("div",{class:"grid-item",children:l.map((function(e){return Object(p.jsx)(c.b,{to:"/".concat(e.id),children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{id:"post-header",children:e.title}),Object(p.jsx)(M,{post:e})]},e.id)})}))})})})]}),Object(p.jsxs)("div",{className:H.a.posts,children:["My Posts",Object(p.jsx)("div",{class:"grid-container",children:Object(p.jsx)("div",{class:"grid-row",children:Object(p.jsx)("div",{class:"grid-item",children:o.map((function(e){return Object(p.jsx)("a",{href:"/".concat(e.id),children:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{id:"post-header",children:e.title}),Object(p.jsx)(M,{post:e})]},e.id)})}))})})})]})]})};var J=function(){return Object(p.jsx)("div",{children:"SignUp"})};var Y=function(){return Object(p.jsx)(c.a,{basename:"/findaid",children:Object(p.jsx)(m,{children:Object(p.jsxs)("div",{className:d.a.container,children:[Object(p.jsx)(C,{}),Object(p.jsx)("main",{className:d.a.content,children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/login",children:Object(p.jsx)(E,{})}),Object(p.jsx)(o.a,{path:"/signup",children:Object(p.jsx)(J,{})}),Object(p.jsx)(o.a,{path:"/createpost",children:Object(p.jsx)(k,{})}),Object(p.jsx)(o.a,{path:"/profile/:userId?",children:Object(p.jsx)(R,{})}),Object(p.jsx)(o.a,{path:"/:postId",children:Object(p.jsx)(L,{})}),Object(p.jsx)(o.a,{path:"/",children:Object(p.jsx)(y,{})})]})})]})})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Y,{})}),document.getElementById("root")),B()},9:function(e,t,n){e.exports={photo:"CreatePost_photo__2JIOI",dropArea:"CreatePost_dropArea__wie4-",dragging:"CreatePost_dragging__3_ktR",message:"CreatePost_message__1sxlU",image:"CreatePost_image__30jAs",desc:"CreatePost_desc__1cxex",actions:"CreatePost_actions__1HabL",error:"CreatePost_error__1UcZU",addDesc:"CreatePost_addDesc__3kK-l"}}},[[41,1,2]]]);
//# sourceMappingURL=main.99a06ed6.chunk.js.map